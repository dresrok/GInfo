{
    "contents" : "densidadFollajeEspecifico <- function(comuna){\n  tmpFollajeComuna <- as.data.frame.matrix(\n    table(comuna$barrio, comuna$densidad_follaje)\n  );\n  follajeComuna <- data.frame(\n    barrio = rownames(tmpFollajeComuna),\n    denso = tmpFollajeComuna[,1],\n    xd = round(tmpFollajeComuna[,1]/sum(tmpFollajeComuna[,1]), 4),\n    medio = tmpFollajeComuna[,2],\n    xm = round(tmpFollajeComuna[,2]/sum(tmpFollajeComuna[,2]), 4),\n    ralo = tmpFollajeComuna[,3],\n    xr = round(tmpFollajeComuna[,3]/sum(tmpFollajeComuna[,3]), 4)\n  );\n  barrios <- subset(comuna, !grepl(\"^corredor\", tolower(barrio)))\n  tmpFollajeBarrios <- as.data.frame.matrix(\n    table(factor(barrios$barrio), barrios$densidad_follaje)\n  );\n  follajeBarrios <- data.frame(\n    barrio = rownames(tmpFollajeBarrios),\n    denso = tmpFollajeBarrios[,1],\n    xd = round(tmpFollajeBarrios[,1]/sum(tmpFollajeBarrios[,1]), 4),\n    medio = tmpFollajeBarrios[,2],\n    xm = round(tmpFollajeBarrios[,2]/sum(tmpFollajeBarrios[,2]), 4),\n    ralo = tmpFollajeBarrios[,3],\n    xr = round(tmpFollajeBarrios[,3]/sum(tmpFollajeBarrios[,3]), 4)\n  );  \n  corredores <- subset(comuna, grepl(\"^corredor\", tolower(barrio)))\n  tmpFollajeCorredores <- as.data.frame.matrix(\n    table(factor(corredores$barrio), corredores$densidad_follaje)\n  );\n  follajeCorredores <- data.frame(\n    barrio = rownames(tmpFollajeCorredores),\n    denso = tmpFollajeCorredores[,1],\n    xd = round(tmpFollajeCorredores[,1]/sum(tmpFollajeCorredores[,1]), 4),\n    medio = tmpFollajeCorredores[,2],\n    xm = round(tmpFollajeCorredores[,2]/sum(tmpFollajeCorredores[,2]), 4),\n    ralo = tmpFollajeCorredores[,3],\n    xr = round(tmpFollajeCorredores[,3]/sum(tmpFollajeCorredores[,3]), 4)\n  );\n  instituciones <- subset(comuna, !grepl(\"^ninguno|estadio\", tolower(institucion)))\n  tmpFollajeInstituciones <- as.data.frame.matrix(\n    table(factor(instituciones$institucion), instituciones$densidad_follaje)\n  );\n  follajeInstituciones <- data.frame(\n    barrio = rownames(tmpFollajeInstituciones),\n    denso = tmpFollajeInstituciones[,1],\n    xd = round(tmpFollajeInstituciones[,1]/sum(tmpFollajeInstituciones[,1]), 4),\n    medio = tmpFollajeInstituciones[,2],\n    xm = round(tmpFollajeInstituciones[,2]/sum(tmpFollajeInstituciones[,2]), 4),\n    ralo = tmpFollajeInstituciones[,3],\n    xr = round(tmpFollajeInstituciones[,3]/sum(tmpFollajeInstituciones[,3]), 4)\n  );\n  save.xlsx(\"F19_densidad_follaje.xlsx\", follajeComuna, follajeBarrios, follajeCorredores, follajeInstituciones)\n}\ndensidadFollajeGeneral <- function(comuna){\n  tmpFollajeComuna <- as.data.frame(\n    table(comuna$densidad_follaje)\n  );\n  follajeComuna <- data.frame(\n    densidad = c(\"Denso\", \"Medio\", \"Ralo\"),\n    arboles = tmpFollajeComuna$Freq,\n    xd = round(tmpFollajeComuna$Freq/sum(tmpFollajeComuna$Freq), 4)\n  );\n  barrios <- subset(comuna, !grepl(\"^corredor\", tolower(barrio)))\n  tmpFollajeBarrios <- as.data.frame(\n    table(barrios$densidad_follaje)\n  );\n  follajeBarrios <- data.frame(\n    densidad = c(\"Denso\", \"Medio\", \"Ralo\"),\n    arboles = tmpFollajeBarrios$Freq,\n    xd = round(tmpFollajeBarrios$Freq/sum(tmpFollajeBarrios$Freq), 4)\n  );\n  tmpTop <- as.data.frame.matrix(\n    table(factor(barrios$barrio), barrios$densidad_follaje)\n  );\n  top <- data.frame(\n    barrios = rownames(tmpTop),\n    denso = tmpTop[,1],\n    medio = tmpTop[,2],\n    ralo = tmpTop[,3]\n  );\n  topBarrios <- data.frame(\n    barriosDenso = head(top[ order(-top$denso), 1], 10),\n    arbolesDenso = head(top[ order(-top$denso), 2], 10),\n    barriosMedio = head(top[ order(-top$medio), 1], 10),\n    arbolesMedio = head(top[ order(-top$medio), 3], 10),\n    barriosRalo = head(top[ order(-top$ralo), 1], 10),\n    arbolesRalo = head(top[ order(-top$ralo), 4], 10)\n  );\n  sep <- data.frame(\n    barriosDenso = \"---\",\n    arbolesDenso = \"---\",\n    barriosMedio = \"---\",\n    arbolesMedio = \"---\",\n    barriosRalo = \"---\",\n    arbolesRalo = \"---\"\n  );\n  topBarrios <- rbind(topBarrios, sep);\n  bottomBarrios <- data.frame(\n    barriosDenso = head(top[ order(top$denso), 1], 5),\n    arbolesDenso = head(top[ order(top$denso), 2], 5),\n    barriosMedio = head(top[ order(top$medio), 1], 5),\n    arbolesMedio = head(top[ order(top$medio), 3], 5),\n    barriosRalo = head(top[ order(top$ralo), 1], 5),\n    arbolesRalo = head(top[ order(top$ralo), 4], 5)\n  );\n  topBarrios <- rbind(topBarrios, bottomBarrios);\n  corredores <- subset(comuna, grepl(\"^corredor\", tolower(barrio)))\n  tmpFollajeCorredores <- as.data.frame(\n    table(corredores$densidad_follaje)\n  );\n  follajeCorredores <- data.frame(\n    densidad = c(\"Denso\", \"Medio\", \"Ralo\"),\n    arboles = tmpFollajeCorredores$Freq,\n    xd = round(tmpFollajeCorredores$Freq/sum(tmpFollajeCorredores$Freq), 4)\n  );\n  instituciones <- subset(comuna, !grepl(\"^ninguno|estadio\", tolower(institucion)))\n  tmpFollajeInstituciones <- as.data.frame(\n    table(instituciones$densidad_follaje)\n  );\n  follajeInstituciones <- data.frame(\n    densidad = c(\"Denso\", \"Medio\", \"Ralo\"),\n    arboles = tmpFollajeInstituciones$Freq,\n    xd = round(tmpFollajeInstituciones$Freq/sum(tmpFollajeInstituciones$Freq), 4)\n  );\n  save.xlsx(\"F1_densidad_follaje.xlsx\", follajeComuna, follajeBarrios, topBarrios, follajeCorredores, follajeInstituciones)\n}\nemplazamientoEspecifico <- function(comuna){\n  tmpEmplazamientoComuna <- as.data.frame.matrix(\n    table(comuna$barrio, comuna$emplazamiento)\n  );\n  emplazamientoComuna <- data.frame(\n    barrio = rownames(tmpEmplazamientoComuna),\n    parque = tmpEmplazamientoComuna[,1],\n    xpr = round(tmpEmplazamientoComuna[,1]/sum(tmpEmplazamientoComuna[,1]), 4),\n    glorieta = tmpEmplazamientoComuna[,2],\n    xgl = round(tmpEmplazamientoComuna[,2]/sum(tmpEmplazamientoComuna[,2]), 4),\n    anden = tmpEmplazamientoComuna[,3],\n    xan = round(tmpEmplazamientoComuna[,3]/sum(tmpEmplazamientoComuna[,3]), 4),\n    alcorque = tmpEmplazamientoComuna[,4],\n    xal = round(tmpEmplazamientoComuna[,4]/sum(tmpEmplazamientoComuna[,4]), 4),\n    separador = tmpEmplazamientoComuna[,5],\n    xsp = round(tmpEmplazamientoComuna[,5]/sum(tmpEmplazamientoComuna[,5]), 4),\n    antejardin = tmpEmplazamientoComuna[,6],\n    xant = round(tmpEmplazamientoComuna[,6]/sum(tmpEmplazamientoComuna[,6]), 4),\n    zonablanda = tmpEmplazamientoComuna[,7],\n    xzb = round(tmpEmplazamientoComuna[,7]/sum(tmpEmplazamientoComuna[,7]), 4)\n  );\n  barrios <- subset(comuna, !grepl(\"^corredor\", tolower(barrio)))\n  tmpEmplazamientoBarrios <- as.data.frame.matrix(\n    table(factor(barrios$barrio), barrios$emplazamiento)\n  );\n  emplazamientoBarrios <- data.frame(\n    barrio = rownames(tmpEmplazamientoBarrios),\n    parque = tmpEmplazamientoBarrios[,1],\n    xpr = round(tmpEmplazamientoBarrios[,1]/sum(tmpEmplazamientoBarrios[,1]), 4),\n    glorieta = tmpEmplazamientoBarrios[,2],\n    xgl = round(tmpEmplazamientoBarrios[,2]/sum(tmpEmplazamientoBarrios[,2]), 4),\n    anden = tmpEmplazamientoBarrios[,3],\n    xan = round(tmpEmplazamientoBarrios[,3]/sum(tmpEmplazamientoBarrios[,3]), 4),\n    alcorque = tmpEmplazamientoBarrios[,4],\n    xal = round(tmpEmplazamientoBarrios[,4]/sum(tmpEmplazamientoBarrios[,4]), 4),\n    separador = tmpEmplazamientoBarrios[,5],\n    xsp = round(tmpEmplazamientoBarrios[,5]/sum(tmpEmplazamientoBarrios[,5]), 4),\n    antejardin = tmpEmplazamientoBarrios[,6],\n    xant = round(tmpEmplazamientoBarrios[,6]/sum(tmpEmplazamientoBarrios[,6]), 4),\n    zonablanda = tmpEmplazamientoBarrios[,7],\n    xzb = round(tmpEmplazamientoBarrios[,7]/sum(tmpEmplazamientoBarrios[,7]), 4)\n  );\n  corredores <- subset(comuna, grepl(\"^corredor\", tolower(barrio)))\n  tmpEmplazamientoCorredores <- as.data.frame.matrix(\n    table(factor(corredores$barrio), corredores$emplazamiento)\n  );\n  emplazamientoCorredores <- data.frame(\n    barrio = rownames(tmpEmplazamientoCorredores),\n    parque = tmpEmplazamientoCorredores[,1],\n    xpr = round(tmpEmplazamientoCorredores[,1]/sum(tmpEmplazamientoCorredores[,1])),\n    glorieta = dominio(tmpEmplazamientoCorredores, emplazamiento, emplazamiento.gl, CHECK),\n    xgl = dominio(tmpEmplazamientoCorredores, emplazamiento, emplazamiento.gl, SUM),\n    anden = tmpEmplazamientoCorredores[,3],\n    xan = round(tmpEmplazamientoCorredores[,3]/sum(tmpEmplazamientoCorredores[,3])),\n    alcorque = tmpEmplazamientoCorredores[,4],\n    xal = round(tmpEmplazamientoCorredores[,4]/sum(tmpEmplazamientoCorredores[,4])),\n    separador = tmpEmplazamientoCorredores[,5],\n    xsp = round(tmpEmplazamientoCorredores[,5]/sum(tmpEmplazamientoCorredores[,5])),\n    antejardin = tmpEmplazamientoCorredores[,6],\n    xant = round(tmpEmplazamientoCorredores[,6]/sum(tmpEmplazamientoCorredores[,6])),\n    zonablanda = dominio(tmpEmplazamientoCorredores, emplazamiento, emplazamiento.zb, CHECK),\n    xzb = dominio(tmpEmplazamientoCorredores, emplazamiento, emplazamiento.zb, SUM)\n  );\n  instituciones <- subset(comuna, !grepl(\"^ninguno|estadio\", tolower(institucion)))\n  tmpEmplazamientoInstituciones <- as.data.frame.matrix(\n    table(factor(instituciones$institucion), instituciones$emplazamiento)\n  );\n  emplazamientoInstituciones <- data.frame(\n    barrio = rownames(tmpEmplazamientoInstituciones),\n    parque = tmpEmplazamientoInstituciones[,1],\n    xpr = round(tmpEmplazamientoInstituciones[,1]/sum(tmpEmplazamientoInstituciones[,1])),\n    glorieta = tmpEmplazamientoInstituciones[,2],\n    xgl = round(tmpEmplazamientoInstituciones[,2]/sum(tmpEmplazamientoInstituciones[,2])),\n    anden = tmpEmplazamientoInstituciones[,3],\n    xan = round(tmpEmplazamientoInstituciones[,3]/sum(tmpEmplazamientoInstituciones[,3])),\n    alcorque = tmpEmplazamientoInstituciones[,4],\n    xal = round(tmpEmplazamientoInstituciones[,4]/sum(tmpEmplazamientoInstituciones[,4])),\n    separador = tmpEmplazamientoInstituciones[,5],\n    xsp = round(tmpEmplazamientoInstituciones[,5]/sum(tmpEmplazamientoInstituciones[,5])),\n    antejardin = tmpEmplazamientoInstituciones[,6],\n    xant = round(tmpEmplazamientoInstituciones[,6]/sum(tmpEmplazamientoInstituciones[,6])),\n    zonablanda = dominio(tmpEmplazamientoInstituciones, emplazamiento, emplazamiento.zb, CHECK),\n    xzb = dominio(tmpEmplazamientoInstituciones, emplazamiento, emplazamiento.zb, SUM)\n  );\n  save.xlsx(\"F20_emplazamientos.xlsx\", emplazamientoComuna, emplazamientoBarrios, emplazamientoCorredores, emplazamientoInstituciones)\n}",
    "created" : 1426168590535.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2610965727",
    "id" : "B1934545",
    "lastKnownWriteTime" : 1426561842,
    "path" : "D:/2015/Ut/ReportesLabSIG/reportes.R",
    "project_path" : "reportes.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}